# Codebase Scaffolding Mandate - Execution Guide

This guide provides comprehensive methods for executing `98-Codebase_Scaffolding_Mandate.yaml`, including full execution and selective parsing by YAML key references.

## Quick Start

### Full Execution (First Time)
```
Execute @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml from the beginning
```

### Continuation Instruction (Subsequent Use)
```
Follow the continuation_instruction from @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml
```

### Selective Parsing (Recommended for Re-execution)
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml and execute only the 'codebase_scaffolding_mandate.instructions.workflow.step_1_search' section
```

---

## Execution Methods

### Method 1: Full Execution from Beginning

**Use Case**: First-time execution, need complete context

**Command:**
```
Execute @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml from the beginning
```

**Alternative Formats:**
```
Execute @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml
Load and obey @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml
Follow @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml
```

**What Happens:**
- Loads entire instruction file
- Reads all sections (codebase scaffolding mandate, GitHub scaffolding mandate, workflows, protocols)
- Applies priority hierarchy rules
- Follows mandatory workflow steps
- Enforces scaffolding requirements

---

### Method 2: Continuation Instruction Execution

**Use Case**: File context already available, quick execution

**Command:**
```
Follow the continuation_instruction from @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml
```

**Alternative Formats:**
```
Execute per continuation_instruction in @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml
Continue per @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml continuation_instruction
```

**What Happens:**
- Uses `continuation_instruction` section directly (lines 443-562)
- Follows summarized workflow steps
- Applies priority hierarchy rules
- Enforces scaffolding requirements

---

### Method 3: Direct Paste

**Use Case**: Maximum speed, no file lookup needed

**Command:**
```
[Paste the entire continuation_instruction section here]
```

**What Happens:**
- Immediate execution without file access
- Uses pasted continuation instruction content
- Fastest method for repeated execution

---

## Selective Parsing Methods (YAML Key References)

### Method 4: Parse and Execute Specific Workflow Step

**Use Case**: Execute only one workflow step

**Step 1 (Search):**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml and execute only the 'codebase_scaffolding_mandate.instructions.workflow.step_1_search' section
```

**Step 2 (Document):**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml and execute only the 'codebase_scaffolding_mandate.instructions.workflow.step_2_document' section
```

**Step 3 (Clone Bulk):**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml and execute only the 'codebase_scaffolding_mandate.instructions.workflow.step_3_clone_bulk' section
```

**Step 4 (Scaffold):**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml and execute only the 'codebase_scaffolding_mandate.instructions.workflow.step_4_scaffold' section
```

**Step 5 (Delete):**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml and execute only the 'codebase_scaffolding_mandate.instructions.workflow.step_5_delete' section
```

**Step 6 (Validate):**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml and execute only the 'codebase_scaffolding_mandate.instructions.workflow.step_6_validate' section
```

**Step 7 (Update SPEC):**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml and execute only the 'codebase_scaffolding_mandate.instructions.workflow.step_7_update_spec' section
```

---

### Method 5: Parse GitHub Scaffolding Workflow Steps

**Use Case**: Execute GitHub-specific workflow steps

**Step 1 (Search GitHub):**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml and execute only the 'github_scaffolding_mandate.workflow.steps[0]' section (Search GitHub for Existing Repos)
```

**Step 2 (Document Source Repos):**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml and execute only the 'github_scaffolding_mandate.workflow.steps[1]' section (Document Source Repos in SPEC)
```

**Step 3 (Clone Repos):**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml and execute only the 'github_scaffolding_mandate.workflow.steps[2]' section (Clone Repos to Temporary Directory)
```

**Step 4 (Scaffold Components):**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml and execute only the 'github_scaffolding_mandate.workflow.steps[3]' section (Scaffold Components from Cloned Repos)
```

**Step 5 (Delete Cloned Repos):**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml and execute only the 'github_scaffolding_mandate.workflow.steps[4]' section (Delete Cloned Repos)
```

**Step 6 (Update Dependencies):**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml and execute only the 'github_scaffolding_mandate.workflow.steps[5]' section (Update Dependencies)
```

**Step 7 (Write Memory Entities):**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml and execute only the 'github_scaffolding_mandate.workflow.steps[6]' section (Write Memory Entities)
```

---

### Method 6: Parse and Extract Specific Sections

**Use Case**: Execute specific requirements or protocols

**Priority Hierarchy:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'codebase_scaffolding_mandate.priority_hierarchy', and execute priority hierarchy validation
```

**GitHub Priority Hierarchy:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.priority_hierarchy', and execute GitHub priority hierarchy validation
```

**Enforcement Rules:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.enforcement_rules', and execute enforcement rules validation
```

**Forbidden Actions:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.forbidden', and execute forbidden actions check
```

**SDK Search Protocol:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.sdk_search_protocol', and execute SDK search protocol
```

**CNCF Verification Protocol:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.cncf_verification_protocol', and execute CNCF verification protocol
```

**Custom Code Justification Template:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.custom_code_justification_template', and review custom code justification template
```

---

### Method 7: Parse Multiple Steps

**Use Case**: Execute a range of steps

**Steps 1-3 (Search through Clone):**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml and execute only 'codebase_scaffolding_mandate.instructions.workflow.step_1_search' through 'codebase_scaffolding_mandate.instructions.workflow.step_3_clone_bulk'
```

**Steps 4-7 (Scaffold through Update SPEC):**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml and execute only 'codebase_scaffolding_mandate.instructions.workflow.step_4_scaffold' through 'codebase_scaffolding_mandate.instructions.workflow.step_7_update_spec'
```

**GitHub Workflow Steps 1-4:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml and execute only 'github_scaffolding_mandate.workflow.steps[0:4]' (Search through Scaffold)
```

---

### Method 8: Parse Search Sequence Steps

**Use Case**: Execute specific search sequence steps

**Check Golden Template:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'codebase_scaffolding_mandate.instructions.workflow.step_1_search.search_sequence.1_check_golden_template', and execute golden template check
```

**Search Local Repos:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'codebase_scaffolding_mandate.instructions.workflow.step_1_search.search_sequence.2_search_local_repos', and execute local repos search
```

**Search tristanaburns GitHub:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'codebase_scaffolding_mandate.instructions.workflow.step_1_search.search_sequence.3_search_tristanaburns_github', and execute tristanaburns GitHub search
```

**Search Public GitHub:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'codebase_scaffolding_mandate.instructions.workflow.step_1_search.search_sequence.4_search_public_github', and execute public GitHub search
```

---

### Method 9: Parse Continuation Instruction Only

**Use Case**: Quick execution using continuation instruction without full file load

**Command:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'continuation_instruction' section, and execute that
```

**Alternative:**
```
Read @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract continuation_instruction (lines 443-562), and execute that
```

---

## YAML Structure Reference

Understanding the YAML structure helps you reference specific sections precisely:

```yaml
98-Codebase_Scaffolding_Mandate.yaml
├── codebase_scaffolding_mandate
│   ├── priority
│   ├── description
│   ├── priority_hierarchy
│   │   ├── tier_0_golden_template
│   │   ├── tier_1_local_repos
│   │   ├── tier_2_tristanaburns_github
│   │   ├── tier_3_public_github_repos
│   │   ├── tier_4_official_sdks
│   │   ├── tier_5_cncf_projects
│   │   ├── tier_6_open_source
│   │   ├── tier_7_public_packages
│   │   └── tier_8_custom_code
│   ├── instructions
│   │   ├── objective
│   │   └── workflow
│   │       ├── step_1_search
│   │       │   └── search_sequence
│   │       │       ├── 1_check_golden_template
│   │       │       ├── 2_search_local_repos
│   │       │       ├── 3_search_tristanaburns_github
│   │       │       └── 4_search_public_github
│   │       ├── step_2_document
│   │       ├── step_3_clone_bulk
│   │       ├── step_4_scaffold
│   │       ├── step_5_delete
│   │       ├── step_6_validate
│   │       └── step_7_update_spec
│   ├── custom_code_justification
│   ├── prohibited_actions
│   ├── reference
│   └── filepath
├── github_scaffolding_mandate
│   ├── description
│   ├── priority_hierarchy
│   │   ├── description
│   │   └── levels
│   │       ├── 1_github_repos
│   │       ├── 2_official_sdks
│   │       ├── 3_cncf_projects
│   │       ├── 4_open_source_libraries
│   │       ├── 5_public_packages
│   │       └── 6_custom_code
│   ├── workflow
│   │   ├── description
│   │   └── steps[0-6]
│   ├── sdk_search_protocol
│   ├── cncf_verification_protocol
│   ├── enforcement_rules
│   ├── forbidden
│   └── custom_code_justification_template
└── continuation_instruction
```

---

## YAML Key Reference Examples

### Codebase Scaffolding Mandate References

- **Priority Hierarchy**: `codebase_scaffolding_mandate.priority_hierarchy`
- **Tier 0 (Golden Template)**: `codebase_scaffolding_mandate.priority_hierarchy.tier_0_golden_template`
- **Tier 1 (Local Repos)**: `codebase_scaffolding_mandate.priority_hierarchy.tier_1_local_repos`
- **Tier 2 (tristanaburns GitHub)**: `codebase_scaffolding_mandate.priority_hierarchy.tier_2_tristanaburns_github`
- **Tier 3 (Public GitHub)**: `codebase_scaffolding_mandate.priority_hierarchy.tier_3_public_github_repos`
- **Workflow Step 1**: `codebase_scaffolding_mandate.instructions.workflow.step_1_search`
- **Workflow Step 2**: `codebase_scaffolding_mandate.instructions.workflow.step_2_document`
- **Search Sequence - Golden Template**: `codebase_scaffolding_mandate.instructions.workflow.step_1_search.search_sequence.1_check_golden_template`
- **Prohibited Actions**: `codebase_scaffolding_mandate.prohibited_actions`

### GitHub Scaffolding Mandate References

- **Priority Hierarchy**: `github_scaffolding_mandate.priority_hierarchy`
- **Level 1 (GitHub Repos)**: `github_scaffolding_mandate.priority_hierarchy.levels.1_github_repos`
- **Level 2 (Official SDKs)**: `github_scaffolding_mandate.priority_hierarchy.levels.2_official_sdks`
- **Level 3 (CNCF Projects)**: `github_scaffolding_mandate.priority_hierarchy.levels.3_cncf_projects`
- **Workflow Step 1**: `github_scaffolding_mandate.workflow.steps[0]`
- **Workflow Step 2**: `github_scaffolding_mandate.workflow.steps[1]`
- **Enforcement Rules**: `github_scaffolding_mandate.enforcement_rules`
- **Forbidden Actions**: `github_scaffolding_mandate.forbidden`
- **SDK Search Protocol**: `github_scaffolding_mandate.sdk_search_protocol`
- **CNCF Verification Protocol**: `github_scaffolding_mandate.cncf_verification_protocol`
- **Custom Code Justification Template**: `github_scaffolding_mandate.custom_code_justification_template`

---

## Recommended Execution Patterns

### Pattern 1: Parse First, Then Execute (Recommended)

**Workflow:**
1. Parse the entire file to understand structure
2. Index all workflow steps and priority hierarchies
3. Execute full workflow OR reference specific YAML keys

**Example:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, index all workflow steps and priority hierarchies, then execute only 'codebase_scaffolding_mandate.instructions.workflow.step_1_search.search_sequence.1_check_golden_template'
```

### Pattern 2: Extract and Execute Specific Section

**Workflow:**
1. Extract specific YAML section
2. Execute only that section

**Example:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'codebase_scaffolding_mandate.instructions.workflow.step_1_search', and execute search workflow
```

### Pattern 3: Parse with Context, Execute Selectively

**Workflow:**
1. Parse file with full context
2. Reference specific keys for execution

**Example:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml with full context, then execute only 'codebase_scaffolding_mandate.instructions.workflow.step_1_search.search_sequence.1_check_golden_template' with 'codebase_scaffolding_mandate.priority_hierarchy.tier_0_golden_template' applied
```

### Pattern 4: Execute GitHub Scaffolding Workflow

**Full GitHub Workflow:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.workflow', then execute full GitHub scaffolding workflow
```

**GitHub Workflow Steps 1-4:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml and execute only 'github_scaffolding_mandate.workflow.steps[0:4]' (Search through Scaffold)
```

---

## Advanced YAML Key Reference Patterns

### Execute Search Sequence with Priority Hierarchy

```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'codebase_scaffolding_mandate.instructions.workflow.step_1_search.search_sequence' and 'codebase_scaffolding_mandate.priority_hierarchy', then execute search sequence with priority hierarchy
```

### Execute GitHub Workflow with Enforcement Rules

```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.workflow' and 'github_scaffolding_mandate.enforcement_rules', then execute GitHub workflow with enforcement rules
```

### Execute SDK Search Protocol

```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.sdk_search_protocol' and 'github_scaffolding_mandate.priority_hierarchy.levels.2_official_sdks', then execute SDK search protocol
```

### Execute CNCF Verification Protocol

```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.cncf_verification_protocol' and 'github_scaffolding_mandate.priority_hierarchy.levels.3_cncf_projects', then execute CNCF verification protocol
```

---

## Comparison: Full Load vs Selective Parsing

| Aspect | Full Load | Selective Parsing |
|--------|-----------|-------------------|
| **Speed** | Slower | Faster |
| **Token Usage** | Higher | Lower |
| **Context** | Complete | Focused |
| **Best For** | First-time execution | Re-execution, specific steps |
| **Precision** | Broad | Precise |
| **Dependencies** | All loaded | Only needed sections |

---

## Best Practices for Selective Parsing

1. **Always Parse First**: Parse the entire file to understand structure before referencing keys
2. **Use Precise Keys**: Reference exact YAML paths (e.g., `codebase_scaffolding_mandate.instructions.workflow.step_1_search`)
3. **Include Context**: When extracting sections, include necessary dependencies (e.g., priority hierarchy with workflow steps)
4. **Index Workflow Steps**: Use "index all workflow steps" to understand available steps before execution
5. **Follow Priority Hierarchy**: Always respect the priority hierarchy when executing search sequences
6. **Combine Sections**: Extract multiple related sections for complete workflow execution

---

## Common Execution Scenarios

### Scenario 1: First-Time Execution
```
Execute @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml from the beginning
```

### Scenario 2: Execute Golden Template Check Only
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'codebase_scaffolding_mandate.instructions.workflow.step_1_search.search_sequence.1_check_golden_template', and execute golden template check
```

### Scenario 3: Execute GitHub Search Workflow Only
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.workflow.steps[0]', and execute GitHub search workflow
```

### Scenario 4: Execute SDK Search Protocol
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.sdk_search_protocol', and execute SDK search protocol
```

### Scenario 5: Execute Continuation Instruction Only
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'continuation_instruction', and execute that
```

### Scenario 6: Execute Full GitHub Scaffolding Workflow
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.workflow', then execute full GitHub scaffolding workflow
```

---

## Quick Reference Cheat Sheet

| What You Want | Command Pattern |
|---------------|----------------|
| **Full execution** | `Execute @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml from the beginning` |
| **Continuation only** | `Follow the continuation_instruction from @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml` |
| **Golden template check** | `Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'codebase_scaffolding_mandate.instructions.workflow.step_1_search.search_sequence.1_check_golden_template', and execute golden template check` |
| **GitHub search workflow** | `Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.workflow.steps[0]', and execute GitHub search workflow` |
| **SDK search protocol** | `Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.sdk_search_protocol', and execute SDK search protocol` |
| **CNCF verification** | `Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.cncf_verification_protocol', and execute CNCF verification protocol` |
| **Enforcement rules** | `Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.enforcement_rules', and execute enforcement rules validation` |
| **Forbidden actions check** | `Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.forbidden', and execute forbidden actions check` |
| **Custom code justification** | `Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.custom_code_justification_template', and review custom code justification template` |

---

## Critical Rules Reference

### Priority Hierarchy (MANDATORY - NO EXCEPTIONS)

**Tier 0 (ABSOLUTE HIGHEST):**
- **Key**: `codebase_scaffolding_mandate.priority_hierarchy.tier_0_golden_template`
- **Location**: `C:\github_development\projects\fastapi-enterprise-core-template`
- **Rule**: Check FIRST before any other option

**Tier 1 (HIGHEST):**
- **Key**: `codebase_scaffolding_mandate.priority_hierarchy.tier_1_local_repos`
- **Locations**: `C:\github_development\projects\*`, `C:\github_development\templates\*`

**Tier 2 (VERY HIGH):**
- **Key**: `codebase_scaffolding_mandate.priority_hierarchy.tier_2_tristanaburns_github`
- **Source**: tristanaburns GitHub account (public/private repos)

**Tier 3 (HIGH):**
- **Key**: `codebase_scaffolding_mandate.priority_hierarchy.tier_3_public_github_repos`
- **Source**: Public GitHub repositories

**Tier 4 (MEDIUM-HIGH):**
- **Key**: `codebase_scaffolding_mandate.priority_hierarchy.tier_4_official_sdks`
- **Source**: Official vendor SDKs and APIs

**Tier 5 (MEDIUM):**
- **Key**: `codebase_scaffolding_mandate.priority_hierarchy.tier_5_cncf_projects`
- **Source**: CNCF projects and cloud-native tools

**Tier 6 (MEDIUM-LOW):**
- **Key**: `codebase_scaffolding_mandate.priority_hierarchy.tier_6_open_source`
- **Source**: Open source libraries

**Tier 7 (LOW):**
- **Key**: `codebase_scaffolding_mandate.priority_hierarchy.tier_7_public_packages`
- **Source**: Public packages, wheels, and dependencies

**Tier 8 (LAST RESORT):**
- **Key**: `codebase_scaffolding_mandate.priority_hierarchy.tier_8_custom_code`
- **Source**: Custom code (requires full justification)

---

## Enforcement Rules

**Key**: `github_scaffolding_mandate.enforcement_rules`

1. **RULE 1**: ALWAYS search GitHub FIRST before writing custom code
2. **RULE 2**: Document ALL source repos in SPEC before cloning
3. **RULE 3**: Clone to tmp/ directory ONLY (never project root)
4. **RULE 4**: Add attribution comments to ALL scaffolded code
5. **RULE 5**: Delete cloned repos after scaffolding complete
6. **RULE 6**: Document all sources in the SPEC
7. **RULE 7**: If no GitHub repos, search for official SDKs
8. **RULE 8**: Prefer CNCF projects for cloud-native infrastructure
9. **RULE 9**: Use open source libraries over custom utilities
10. **RULE 10**: Custom code ONLY as LAST RESORT with full justification

**Execute Enforcement Rules Validation:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.enforcement_rules', and execute enforcement rules validation
```

---

## Forbidden Actions

**Key**: `github_scaffolding_mandate.forbidden`

The following actions are FORBIDDEN:

- Writing custom code without exhausting GitHub/SDK/CNCF/open source options
- Cloning repos to project root (must use tmp/)
- Keeping cloned repos after scaffolding (must delete)
- Scaffolding code without attribution comments
- Missing documentation of source repos in SPEC
- Using unmaintained or abandoned repos (>1 year no commits)
- Using repos with restrictive licenses (GPL in proprietary code)
- Building custom API clients when official SDKs exist
- Reinventing wheels covered by CNCF projects
- Implementing utilities covered by popular open source libraries
- Creating custom packages when public packages exist
- Neglecting to follow the defined workflow steps
- Failing to document all sources in the SPEC

**Execute Forbidden Actions Check:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.forbidden', and execute forbidden actions check
```

---

## Workflow Phase Breakdown

### Codebase Scaffolding Workflow (7 Steps)

**Phase 1: Search (Step 1)**
- Search for existing code in priority order
- Check golden template → local repos → tristanaburns GitHub → public GitHub
- Halt if found in higher priority tier

**Phase 2: Document (Step 2)**
- Document ALL discovered repos/files in SPEC files BEFORE cloning
- Required fields: repo_url/local_path, license, commit_hash, components_extracted, extraction_date

**Phase 3: Clone (Step 3)**
- Clone ALL relevant repos to temporary directory (tmp/)
- Never clone to project root

**Phase 4: Scaffold (Step 4)**
- Extract needed code/configs/assets from cloned repos
- Add attribution comments

**Phase 5: Cleanup (Step 5)**
- Remove ALL cloned repos after extraction

**Phase 6: Validate (Step 6)**
- Run validation tools

**Phase 7: Update SPEC (Step 7)**
- Update SPEC with final integration details

**Execute Full Workflow:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'codebase_scaffolding_mandate.instructions.workflow', then execute full workflow
```

### GitHub Scaffolding Workflow (7 Steps)

**Step 1: Search GitHub for Existing Repos**
- Use mcp_grep_searchGitHub for literal code patterns
- Use vscode-websearchforcopilot_webSearch for repo discovery
- Filter by quality criteria
- Select top 3-5 repos

**Step 2: Document Source Repos in SPEC**
- Update SPEC file with GitHub Sources section
- Create table with repo details

**Step 3: Clone Repos to Temporary Directory**
- Create tmp/github_clones/
- Use shallow clone (--depth 1)
- Never clone to project directory

**Step 4: Scaffold Components from Cloned Repos**
- Identify relevant files
- Copy/adapt relevant code
- Add attribution comments

**Step 5: Delete Cloned Repos**
- Remove tmp/github_clones/ after scaffolding

**Step 6: Update Dependencies**
- Update requirements.txt/package.json
- Install dependencies

**Step 7: Write Memory Entities**
- Write to neo4j-memory with Date properties

**Execute GitHub Workflow:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.workflow', then execute full GitHub scaffolding workflow
```

---

## Search Sequence Details

### Step 1: Check Golden Template

**Key**: `codebase_scaffolding_mandate.instructions.workflow.step_1_search.search_sequence.1_check_golden_template`

- **Location**: `C:\github_development\projects\fastapi-enterprise-core-template`
- **Tools**: filesystem (list_dir, read_file), grep_search
- **Action**: Check for FastAPI patterns, routers, services, models, templates, configs
- **Patterns**: Search src/, routers/, services/, models/, templates/

**Execute Golden Template Check:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'codebase_scaffolding_mandate.instructions.workflow.step_1_search.search_sequence.1_check_golden_template', and execute golden template check
```

### Step 2: Search Local Repos

**Key**: `codebase_scaffolding_mandate.instructions.workflow.step_1_search.search_sequence.2_search_local_repos`

- **Locations**: `C:\github_development\projects\*`, `C:\github_development\templates\*`
- **Tools**: filesystem (list_dir, read_file), grep_search
- **Action**: Search local repositories for relevant code patterns

**Execute Local Repos Search:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'codebase_scaffolding_mandate.instructions.workflow.step_1_search.search_sequence.2_search_local_repos', and execute local repos search
```

### Step 3: Search tristanaburns GitHub

**Key**: `codebase_scaffolding_mandate.instructions.workflow.step_1_search.search_sequence.3_search_tristanaburns_github`

- **Account**: tristanaburns
- **Tools**: gh cli, fetch (GitHub API), grep GitHub search
- **Action**: Search tristanaburns GitHub account (public and private repos)

**Execute tristanaburns GitHub Search:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'codebase_scaffolding_mandate.instructions.workflow.step_1_search.search_sequence.3_search_tristanaburns_github', and execute tristanaburns GitHub search
```

### Step 4: Search Public GitHub

**Key**: `codebase_scaffolding_mandate.instructions.workflow.step_1_search.search_sequence.4_search_public_github`

- **Tool**: grep GitHub code search (mcp_grep_searchGitHub)
- **Action**: Search public GitHub repos for production-ready or demo code
- **Patterns**: Search by language, framework, file paths, actual code patterns

**Execute Public GitHub Search:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'codebase_scaffolding_mandate.instructions.workflow.step_1_search.search_sequence.4_search_public_github', and execute public GitHub search
```

---

## GitHub Priority Hierarchy Levels

### Level 1: GitHub Repos (CRITICAL - HIGHEST)

**Key**: `github_scaffolding_mandate.priority_hierarchy.levels.1_github_repos`

- **Priority**: CRITICAL - HIGHEST
- **Quality Criteria**: Stars > 100 (preferred > 1000), active maintenance (commits within 6 months), complete implementation, documentation present, permissive license (MIT, Apache 2.0, BSD)
- **Search Tools**: mcp_grep_searchGitHub, vscode-websearchforcopilot_webSearch
- **Rule**: ALWAYS search GitHub FIRST before considering any other option

### Level 2: Official SDKs (CRITICAL - VERY HIGH)

**Key**: `github_scaffolding_mandate.priority_hierarchy.levels.2_official_sdks`

- **Priority**: CRITICAL - VERY HIGH
- **Sources**: AWS SDK, Azure SDK, Google Cloud SDK, OpenAI SDK, Anthropic SDK, Stripe SDK, Twilio SDK, SendGrid SDK
- **Rule**: Use official SDKs over custom API clients ALWAYS

### Level 3: CNCF Projects (HIGH)

**Key**: `github_scaffolding_mandate.priority_hierarchy.levels.3_cncf_projects`

- **Priority**: HIGH
- **Sources**: Kubernetes, Prometheus, Envoy Proxy, Jaeger, Fluentd, OpenTelemetry, Helm, etcd
- **Rule**: Prefer CNCF projects for cloud-native infrastructure

### Level 4: Open Source Libraries (MEDIUM-HIGH)

**Key**: `github_scaffolding_mandate.priority_hierarchy.levels.4_open_source_libraries`

- **Priority**: MEDIUM-HIGH
- **Quality Criteria**: GitHub stars > 5000 (preferred > 10000), active maintenance (weekly/monthly commits), strong community, good documentation
- **Rule**: Use established open source libraries over custom implementations

### Level 5: Public Packages (MEDIUM)

**Key**: `github_scaffolding_mandate.priority_hierarchy.levels.5_public_packages`

- **Priority**: MEDIUM
- **Sources**: PyPI, npm, NuGet, Maven Central, crates.io, RubyGems
- **Rule**: Use public packages over writing utilities from scratch

### Level 6: Custom Code (LOWEST - LAST RESORT)

**Key**: `github_scaffolding_mandate.priority_hierarchy.levels.6_custom_code`

- **Priority**: LOWEST - LAST RESORT
- **Justification Required**: Document why NO GitHub repos/SDKs/CNCF/open source/public packages found
- **Approval Required**: Tech lead approval before proceeding
- **Constraints**: Keep custom code minimal (<200 lines per module), follow SOLID/DRY/KISS principles
- **Rule**: Custom code is LAST RESORT after exhausting all other options

---

## SDK Search Protocol

**Key**: `github_scaffolding_mandate.sdk_search_protocol`

**Steps:**
1. Check vendor documentation for official SDK
2. Use Context7 to get SDK documentation (resolve-library-id, get-library-docs)
3. Verify SDK on package manager (PyPI, npm, NuGet)
4. Install SDK and use vendor patterns (not custom API clients)
5. Document SDK in SPEC under 'Official SDKs Used' section

**Execute SDK Search Protocol:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.sdk_search_protocol', and execute SDK search protocol
```

---

## CNCF Verification Protocol

**Key**: `github_scaffolding_mandate.cncf_verification_protocol`

**Steps:**
1. Check https://www.cncf.io/projects/
2. Verify project status: Graduated > Incubating > Sandbox
3. Prefer Graduated projects for production use
4. Document CNCF project usage in SPEC

**Execute CNCF Verification Protocol:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.cncf_verification_protocol', and execute CNCF verification protocol
```

---

## Custom Code Justification Template

**Key**: `github_scaffolding_mandate.custom_code_justification_template`

**Required Sections:**
- Module name
- Functionality required
- GitHub search results (queries and results)
- Official SDK check (vendor, documentation, result)
- CNCF project check (projects reviewed, result)
- Open source library check (libraries evaluated, result)
- Public package check (PyPI/npm search, result)
- Justification for custom code (detailed rationale)
- Custom code scope (lines, modules, test coverage)
- Future replacement plan
- Approval (tech lead approval required)

**Review Custom Code Justification Template:**
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.custom_code_justification_template', and review custom code justification template
```

---

## Tips for Effective Execution

1. **Start with Parse**: Always parse the file first to understand its structure
2. **Use YAML Keys**: Reference exact YAML paths for precision
3. **Index Workflow Steps**: Use "index all workflow steps" to see available options
4. **Follow Priority Hierarchy**: Always respect the priority hierarchy (Tier 0 → Tier 8)
5. **Combine Sections**: Extract multiple related sections for complete workflow execution
6. **Document First**: Always document repos in SPEC before cloning
7. **Use tmp/ Directory**: Always clone to tmp/ directory, never project root
8. **Add Attribution**: Always add attribution comments to scaffolded code
9. **Clean Up**: Always delete cloned repos after scaffolding
10. **Validate**: Always run validation tools after scaffolding

---

## Troubleshooting

### Issue: YAML Key Not Found

**Solution**: Parse the file first to see actual structure:
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml and show YAML structure
```

### Issue: Priority Hierarchy Not Clear

**Solution**: Extract priority hierarchy:
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'codebase_scaffolding_mandate.priority_hierarchy', and review priority hierarchy
```

### Issue: Workflow Step Not Found

**Solution**: Extract workflow steps:
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'codebase_scaffolding_mandate.instructions.workflow', and review workflow steps
```

### Issue: Enforcement Rules Not Applied

**Solution**: Extract enforcement rules:
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.enforcement_rules', and execute enforcement rules validation
```

### Issue: Forbidden Action Detected

**Solution**: Extract forbidden actions:
```
Parse @docs/implementation/instructions/98-Codebase_Scaffolding_Mandate.yaml, extract 'github_scaffolding_mandate.forbidden', and execute forbidden actions check
```

---

**Last Updated**: 2025-12-15
**File**: `98-Codebase_Scaffolding_Mandate.yaml`
**Version**: 1.0.0
