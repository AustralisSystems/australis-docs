authoring_schema_version: "1.0.0"
mcp_spec_revision: "2025-11-25"

artifact:
  meta:
    version: "1.0.0"
    schema: "mcp.instruction/v1"
    id: "docs.draft_technical_design"
    title: "Draft Technical Design Document"
    description: "Draft a normative technical design record for a bounded component using the governance technical design template."
    action: "create-file"
    tags: ["docs", "design", "architecture", "template"]

  content:
    doctrine_refs: ["enterprise.canonical_execution"]
    protocol_refs:
      - "language.rfc2119_requirements"
      - "docs.enterprise_architecture_documentation"
    inputs:
      - "template_path"
      - "component"
      - "target_path"
      - "design_context"
    outputs:
      - "document"
      - "document_path"
    steps:
      - id: "load_template"
        description: "Read template_path and preserve any instructional preamble sections."
      - id: "define_scope"
        description: "Define the bounded component scope and intended layer (platform/domain/ui) and record constraints."
      - id: "populate_metadata"
        description: "Populate required metadata; set status DRAFT; ensure naming/version metadata aligns with target_path."
      - id: "overview_and_diagram"
        description: "Write a normative overview (RFC 2119) and include a dependency diagram (eg Mermaid) showing upstream/downstream interfaces."
      - id: "define_contract"
        description: "Define the interface contract precisely (public APIs, events, request/response shapes)."
      - id: "internals_and_storage"
        description: "Describe internals/algorithm, configuration keys, and storage/schema requirements."
      - id: "best_practices_and_execution_linkage"
        description: "Map component parts to best-practice references and link to the execution/implementation spec that will implement this design."
      - id: "quality_gate"
        description: "Verify: normative language used, contract precise, config/storage defined, execution linkage present."
        produces: ["document"]
    variables:
      template_path:
        required: false
        default: "governance/au-sys-governance/documentation/architecture_design/TEMPLATE_TECHNICAL_DESIGN_DOCUMENT_v1.0.0.md"
        description: "Governance template to use for technical design documents."
    halt: true

  governance:
    owners: ["au-sys"]
    status: "draft"
    changeLog:
      - "Migrated from v2 928-INSTRUCTIONS-Draft_Technical_Design-v1.0.0.yaml; converted to structured v3 steps." 

  traceability:
    raw_ref: "repo://docs/implementation/instructions/v2/928-INSTRUCTIONS-Draft_Technical_Design-v1.0.0.yaml"
